<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GOG ã‚ªãƒ¼ãƒ€ãƒ¼è¨ˆç®—</title>
<style>
body{margin:0;padding:20px;background:linear-gradient(180deg,#0b1530,#071028);
color:#d9cfc6;font-family:"Noto Sans JP",sans-serif;}
.top-logo{display:none!important;}
.menu-area{display:grid;grid-template-columns:1fr 1fr;gap:18px;}
@media(max-width:900px){.menu-area{grid-template-columns:1fr;}}
.menu-group{background:rgba(255,255,255,0.05);padding:14px;border-radius:12px;}
.menu-item{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px;margin-bottom:12px;}
.qty{min-width:40px;display:inline-block;text-align:center;font-weight:bold;font-size:16px;}
.qty-btn{width:36px;height:36px;border-radius:6px;background:#3a2b24;color:#fff;border:none;cursor:pointer;}
.qty-btn:hover{filter:brightness(1.1);}

/* total bar */
.total-bar {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background: rgba(15, 23, 38, 0.95);
  border-top: 1px solid rgba(255,255,255,0.1);
  padding: 14px 18px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 9998;
  backdrop-filter: blur(8px);
}
.total-bar .total-text {
  font-size: 22px;
  font-weight: 800;
  color: #fff;
}
.total-bar .reset-btn {
  background: rgba(185, 74, 74, 0.3);
  color: #ffcece;
  padding: 10px 16px;
  font-size: 14px;
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 10px;
  cursor: pointer;
}
.total-bar .reset-btn:hover {
  background: rgba(185, 74, 74, 0.45);
}
.device-indicator { bottom:80px!important; }

</style>
</head>
<body>
<img src="logo.png" class="top-logo">
<h2 id="pageTitle"></h2>
<div id="menuArea" class="menu-area"></div>
<div id="summary"></div>

<script>
const stores={
 "Bar105":{
  displayName:"Bar105",
  menus:{
   food:[{name:"ã‚¢ãƒ’ãƒ¼ã‚¸ãƒ§",price:10000,info:"è…¹50%"}],
   drink:[{name:"ãƒ†ã‚­ãƒ¼ãƒ©ã‚µãƒ³ãƒ©ã‚¤ã‚º",price:15000,info:"æ°´åˆ†50%"}]
  }},
 "CLUB210":{
  displayName:"CLUB210",
  menus:{
   food:[{name:"ãƒ‰ãƒ©ã‚¤ãƒ•ãƒ«ãƒ¼ãƒ„",price:18000,info:"è…¹50%"}],
   drink:[{name:"ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³",price:21000,info:"æ°´åˆ†50%"}]
  }},
 "LOUNGE315":{
  displayName:"LOUNGE315",
  menus:{
   food:[{name:"ãƒ‘ãƒ—ãƒªã‚«ã®ãƒ‰ãƒªã‚¢",price:21000,info:"è…¹50%"}],
   drink:[{name:"ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒªãƒ³ã‚°ãƒ¯ã‚¤ãƒ³",price:14700,info:"æ°´åˆ†40%"}]
  }}
};

const params=new URLSearchParams(location.search);
const key=params.get("store")||"Bar105";
const store=stores[key];

document.getElementById("pageTitle").textContent=store.displayName+" ã‚ªãƒ¼ãƒ€ãƒ¼è¨ˆç®—";

const qtyMap={};

function addQty(id, num){
 qtyMap[id]=(qtyMap[id]||0)+num;
 if(qtyMap[id]<0)qtyMap[id]=0;
 document.getElementById("qty_"+id).textContent=qtyMap[id];
 renderSummary();
}

function renderMenus(){
 const area=document.getElementById("menuArea");
 area.innerHTML="";
 ["food","drink"].forEach(group=>{
   const box=document.createElement("div");
   box.className="menu-group";
   const title=document.createElement("h3");
   title.textContent=group==="food"?"ğŸ½ é£Ÿã¹ç‰©":"ğŸ¥‚ é£²ã¿ç‰©";
   box.appendChild(title);

   store.menus[group].forEach((item,i)=>{
     const id=group+"_"+i;
     const div=document.createElement("div");
     div.className="menu-item";
     div.innerHTML=
       `<strong>${item.name}</strong> Â¥${item.price.toLocaleString()}<br>
        <span>${item.info}</span><br>
        <button class='qty-btn' onclick="addQty('${id}',1)">+1</button>
        <span id="qty_${id}" class="qty">0</span>
        <button class='qty-btn' onclick="addQty('${id}',-1)">-1</button>`;
     box.appendChild(div);
   });
   area.appendChild(box);
 });
}


function renderSummary() {
  let total = 0;
  let html = "";
  Object.keys(qtyMap).forEach(id => {
    const q = qtyMap[id];
    if (q > 0) {
      const [group, index] = id.split("_");
      const item = currentStore.menus[group][index];
      const sub = item.price * q;
      total += sub;
      html += `<div class="order-line"><span>${item.name} x ${q}</span><span>Â¥${sub.toLocaleString()}</span></div>`;
    }
  });
  document.getElementById("summary").innerHTML =
    html + `<div class="total">åˆè¨ˆï¼šÂ¥${total.toLocaleString()}</div>`;
  document.getElementById("totalAmount").textContent =
    `åˆè¨ˆï¼šÂ¥${total.toLocaleString()}`;
}
 }
 document.getElementById("summary").innerHTML=
    html+`<h3>åˆè¨ˆï¼šÂ¥${total.toLocaleString()}</h3>`;
}

renderMenus();
</script>

<div id="totalBar" class="total-bar">
  <div class="total-text" id="totalAmount">åˆè¨ˆï¼šÂ¥0</div>
  <button class="reset-btn" id="resetBtn2">ãƒªã‚»ãƒƒãƒˆ</button>
</div>

</body>
</html>
